<a href="#site-main" class="banner__skip">Skip to main content</a>

<div id="site-banner" class="banner">
  <div class="site__container">
    <header class="banner__header" role="banner">
      <div class="banner__brand">
        <a href="/" title="{{ .Site.Params.brand.title }} Home">
          <span class="banner__name banner__name--long">
            {{- with .Site.Params.brand.logo }}
            {{- $hasDark := $.Site.Params.brand.logoDark }}
            {{- $width := $.Site.Params.brand.logoWidth }}
            {{- $height := $.Site.Params.brand.logoHeight }}
            {{- $aspectStyle := "" }}
            {{- if and $width $height }}
              {{- $aspectStyle = printf "aspect-ratio: %v / %v;" $width $height }}
            {{- end }}
            <img src="{{ . | absURL }}" alt="{{ $.Site.Params.brand.name | default $.Site.Title }}" class="brand__logo{{ if $hasDark }} brand__logo--light{{ end }}"{{ with $aspectStyle }} style="{{ . | safeCSS }}"{{ end }}>
            {{- with $.Site.Params.brand.logoDark }}
            <img src="{{ . | absURL }}" alt="{{ $.Site.Params.brand.name | default $.Site.Title }}" class="brand__logo brand__logo--dark"{{ with $aspectStyle }} style="{{ . | safeCSS }}"{{ end }}>
            {{- end }}
            {{- else }}
            {{ .Site.Params.brand.name | default .Site.Title }}
            {{- end }}
          </span>
          <span class="banner__name banner__name--short">
            {{- $logo := .Site.Params.brand.logo }}
            {{- $logoShort := .Site.Params.brand.logoShort | default $logo }}
            {{- $logoDark := .Site.Params.brand.logoDark }}
            {{- $logoShortDark := .Site.Params.brand.logoShortDark | default $logoDark }}
            {{- $hasDarkShort := and $logoShortDark (ne $logoShortDark $logoShort) }}
            {{- $widthShort := .Site.Params.brand.logoShortWidth | default .Site.Params.brand.logoWidth }}
            {{- $heightShort := .Site.Params.brand.logoShortHeight | default .Site.Params.brand.logoHeight }}
            {{- $aspectStyleShort := "" }}
            {{- if and $widthShort $heightShort }}
              {{- $aspectStyleShort = printf "aspect-ratio: %v / %v;" $widthShort $heightShort }}
            {{- end }}
            {{- if $logoShort }}
            <img src="{{ $logoShort | absURL }}" alt="{{ .Site.Params.brand.name | default .Site.Title }}" class="brand__logo brand__logo--short{{ if $hasDarkShort }} brand__logo--light{{ end }}"{{ with $aspectStyleShort }} style="{{ . | safeCSS }}"{{ end }}>
            {{- if $hasDarkShort }}
            <img src="{{ $logoShortDark | absURL }}" alt="{{ .Site.Params.brand.name | default .Site.Title }}" class="brand__logo brand__logo--short brand__logo--dark"{{ with $aspectStyleShort }} style="{{ . | safeCSS }}"{{ end }}>
            {{- end }}
            {{- else if .Site.Params.brand.nameShort }}
            {{ .Site.Params.brand.nameShort }}
            {{- else }}
            {{ $words := split (.Site.Params.brand.name | default .Site.Title) " " }}
            {{ range $words }}{{ substr . 0 1 }}{{ end }}
            {{- end }}
          </span>
        </a>
        {{- if and (not .Site.Params.brand.logo) .Site.Params.brand.tagline }}
        <p class="banner__tagline">{{ .Site.Params.brand.tagline }}</p>
        {{- end }}
      </div>
      <button id="nav-toggle" class="banner__nav-toggle" title="Open main site navigation">
        Menu
      </button>
    </header>
    
    <nav id="site-nav" class="banner__nav" aria-label="Primary navigation">
      <ul>
        {{- $currentURL := .RelPermalink }}
        {{- range .Site.Menus.main }}
        {{- $active := and (eq $currentURL .URL) }}
        <li{{ if $active }} aria-current="page"{{ end }}>
          <a href="{{ .URL }}">{{ .Name }}</a>
        </li>
        {{- end }}
      </ul>
    </nav>
  </div>
  {{- if .IsPage }}
    <progress id="reading-progress" class="site__progress" max="100" value="0" ></progress>
  {{- end }}
</div>